define(["switch"],function(){return{init:function(){$.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"success",offColor:"default",onText:"开启中",offText:"关闭中",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){var e=$(this).parents("tr").attr("data-id");$.ajax({url:"/backend/basic_settings/",type:"post",data:{id:e,action:"switch_customer_service",csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val()},headers:{Accept:"application/json, text/html/, application/xhtml+xml; charset=utf-8"},success:function(e){console.log("修改成功"),console.log(e)},error:function(e){console.log("发生错误"),console.log(e)}})}},$(".customer-service-switch").bootstrapSwitch(),$("#add_weixin_img").on("click",function(){$("#id_cs_weixin").click()}),$("#customer_service_form").validate({rules:{cs_phone:{required:!0},cs_qq:{required:!0},weixin_img:{required:!0},service_time:{required:!0}},messages:{cs_phone:{required:"请输入客服电话"},cs_qq:{required:"请输入客服QQ"},weixin_img:{required:"请上传微信二维码图片"},service_time:{required:"请选择服务时间段"}},submitHandler:function(){var e=new FormData($("#customer_service_form")[0]);e.append("cs_weixin",$("#id_cs_weixin").val()),e.append("action","add_customer_service"),$.ajax({url:"/backend/basic_settings/",type:"post",dataType:"json",data:e,processData:!1,contentType:!1,success:function(){console.log("添加成功")},error:function(e){console.log(e)}})}}),$(".delete-customer-service").on("click",function(){var e=$(this).parents("tr").attr("data-id");$.ajax({url:"/backend/basic_settings/",type:"post",data:{id:e,action:"delete_customer_service",csrfmiddlewaretoken:$("input[name=csrfmiddlewaretoken]").val()},headers:{Accept:"application/json, text/html/, application/xhtml+xml; charset=utf-8"},success:function(e){console.log("删除成功"),console.log(e)},error:function(e){console.log("发生错误"),console.log(e)}})})}}});